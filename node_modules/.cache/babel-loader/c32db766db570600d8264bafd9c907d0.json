{"ast":null,"code":"import _slicedToArray from\"/home/okay/work/automation-smm/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{auth}from\"../firebase\";import{Redirect}from\"react-router-dom\";function SignIn(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),userStatus=_useState2[0],setUserStatus=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),redirect=_useState4[0],setRedirect=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),password=_useState6[0],setPassword=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),email=_useState8[0],setEmail=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),err=_useState10[0],setErr=_useState10[1];useEffect(function(){auth.onAuthStateChanged(function(user){if(user!=null){setRedirect(true);setUserStatus(user);}else setUserStatus(null);});},[userStatus]);var handleEmail=function handleEmail(e){e.preventDefault();setEmail(e.target.value);};var handlePassword=function handlePassword(e){e.preventDefault();setPassword(e.target.value);};var handleSubmit=function handleSubmit(e){e.preventDefault();auth.signInWithEmailAndPassword(email,password).then(function(res){// console.log(res.M.code);\n}).catch(function(err){setErr(true);});};return React.createElement(React.Fragment,null,redirect?React.createElement(Redirect,{to:\"/\"}):React.createElement(React.Fragment,null,React.createElement(\"div\",{className:\"body\"},React.createElement(\"div\",{className:\"cont\"},React.createElement(\"div\",{className:\"form\"},React.createElement(\"form\",{onSubmit:handleSubmit},React.createElement(\"h1\",{className:\"h1\"},\"Login\"),React.createElement(\"input\",{id:\"email\",type:\"text\",className:\"user\",placeholder:\"Email\",onChange:handleEmail}),React.createElement(\"input\",{id:\"password\",type:\"password\",className:\"pass\",placeholder:\"Password\",onChange:handlePassword}),React.createElement(\"button\",{className:\"login\",onClick:handleSubmit},\"Login\"),err?React.createElement(\"div\",{className:\"alert alert-danger\"},\"Sorry, Wrong Credentials :(\"):React.createElement(React.Fragment,null)))))));}export default SignIn;","map":{"version":3,"sources":["/home/okay/work/automation-smm/src/Components/SignIn.js"],"names":["React","useEffect","useState","auth","Redirect","SignIn","userStatus","setUserStatus","redirect","setRedirect","password","setPassword","email","setEmail","err","setErr","onAuthStateChanged","user","handleEmail","e","preventDefault","target","value","handlePassword","handleSubmit","signInWithEmailAndPassword","then","res","catch"],"mappings":"iHAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,IAAT,KAAqB,aAArB,CACA,OAASC,QAAT,KAAyB,kBAAzB,CAEA,QAASC,CAAAA,MAAT,EAAkB,eACoBH,QAAQ,CAAC,IAAD,CAD5B,wCACTI,UADS,eACGC,aADH,8BAEgBL,QAAQ,CAAC,KAAD,CAFxB,yCAETM,QAFS,eAECC,WAFD,8BAGgBP,QAAQ,CAAC,EAAD,CAHxB,yCAGTQ,QAHS,eAGCC,WAHD,8BAIUT,QAAQ,CAAC,EAAD,CAJlB,yCAITU,KAJS,eAIFC,QAJE,8BAKMX,QAAQ,CAAC,KAAD,CALd,0CAKTY,GALS,gBAKJC,MALI,gBAOhBd,SAAS,CAAC,UAAM,CACdE,IAAI,CAACa,kBAAL,CAAwB,SAAAC,IAAI,CAAI,CAC9B,GAAIA,IAAI,EAAI,IAAZ,CAAkB,CAChBR,WAAW,CAAC,IAAD,CAAX,CACAF,aAAa,CAACU,IAAD,CAAb,CACD,CAHD,IAGOV,CAAAA,aAAa,CAAC,IAAD,CAAb,CACR,CALD,EAMD,CAPQ,CAON,CAACD,UAAD,CAPM,CAAT,CASA,GAAMY,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAAAC,CAAC,CAAI,CACvBA,CAAC,CAACC,cAAF,GACAP,QAAQ,CAACM,CAAC,CAACE,MAAF,CAASC,KAAV,CAAR,CACD,CAHD,CAKA,GAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAAAJ,CAAC,CAAI,CAC1BA,CAAC,CAACC,cAAF,GACAT,WAAW,CAACQ,CAAC,CAACE,MAAF,CAASC,KAAV,CAAX,CACD,CAHD,CAKA,GAAME,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAAAL,CAAC,CAAI,CACxBA,CAAC,CAACC,cAAF,GACAjB,IAAI,CACDsB,0BADH,CAC8Bb,KAD9B,CACqCF,QADrC,EAEGgB,IAFH,CAEQ,SAAAC,GAAG,CAAI,CACX;AACD,CAJH,EAKGC,KALH,CAKS,SAAAd,GAAG,CAAI,CACZC,MAAM,CAAC,IAAD,CAAN,CACD,CAPH,EAQD,CAVD,CAYA,MACE,yCACGP,QAAQ,CACP,oBAAC,QAAD,EAAU,EAAE,CAAC,GAAb,EADO,CAGP,wCACE,2BAAK,SAAS,CAAC,MAAf,EACE,2BAAK,SAAS,CAAC,MAAf,EACE,2BAAK,SAAS,CAAC,MAAf,EACE,4BAAM,QAAQ,CAAEgB,YAAhB,EACE,0BAAI,SAAS,CAAC,IAAd,UADF,CAEE,6BACE,EAAE,CAAC,OADL,CAEE,IAAI,CAAC,MAFP,CAGE,SAAS,CAAC,MAHZ,CAIE,WAAW,CAAC,OAJd,CAKE,QAAQ,CAAEN,WALZ,EAFF,CASE,6BACE,EAAE,CAAC,UADL,CAEE,IAAI,CAAC,UAFP,CAGE,SAAS,CAAC,MAHZ,CAIE,WAAW,CAAC,UAJd,CAKE,QAAQ,CAAEK,cALZ,EATF,CAgBE,8BAAQ,SAAS,CAAC,OAAlB,CAA0B,OAAO,CAAEC,YAAnC,UAhBF,CAmBGV,GAAG,CACF,2BAAK,SAAS,CAAC,oBAAf,gCADE,CAKF,wCAxBJ,CADF,CADF,CADF,CADF,CAJJ,CADF,CA2CD,CAED,cAAeT,CAAAA,MAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { auth } from \"../firebase\";\nimport { Redirect } from \"react-router-dom\";\n\nfunction SignIn() {\n  const [userStatus, setUserStatus] = useState(null);\n  const [redirect, setRedirect] = useState(false);\n  const [password, setPassword] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [err, setErr] = useState(false);\n\n  useEffect(() => {\n    auth.onAuthStateChanged(user => {\n      if (user != null) {\n        setRedirect(true);\n        setUserStatus(user);\n      } else setUserStatus(null);\n    });\n  }, [userStatus]);\n\n  const handleEmail = e => {\n    e.preventDefault();\n    setEmail(e.target.value);\n  };\n\n  const handlePassword = e => {\n    e.preventDefault();\n    setPassword(e.target.value);\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    auth\n      .signInWithEmailAndPassword(email, password)\n      .then(res => {\n        // console.log(res.M.code);\n      })\n      .catch(err => {\n        setErr(true);\n      });\n  };\n\n  return (\n    <>\n      {redirect ? (\n        <Redirect to=\"/\" />\n      ) : (\n        <>\n          <div className=\"body\">\n            <div className=\"cont\">\n              <div className=\"form\">\n                <form onSubmit={handleSubmit}>\n                  <h1 className=\"h1\">Login</h1>\n                  <input\n                    id=\"email\"\n                    type=\"text\"\n                    className=\"user\"\n                    placeholder=\"Email\"\n                    onChange={handleEmail}\n                  />\n                  <input\n                    id=\"password\"\n                    type=\"password\"\n                    className=\"pass\"\n                    placeholder=\"Password\"\n                    onChange={handlePassword}\n                  />\n                  <button className=\"login\" onClick={handleSubmit}>\n                    Login\n                  </button>\n                  {err ? (\n                    <div className=\"alert alert-danger\">\n                      Sorry, Wrong Credentials :(\n                    </div>\n                  ) : (\n                    <></>\n                  )}\n                </form>\n              </div>\n            </div>\n          </div>\n        </>\n      )}\n    </>\n  );\n}\n\nexport default SignIn;\n"]},"metadata":{},"sourceType":"module"}