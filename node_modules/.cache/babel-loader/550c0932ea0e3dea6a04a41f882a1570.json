{"ast":null,"code":"import _regeneratorRuntime from\"/home/okay/work/automation-smm/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/okay/work/automation-smm/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/okay/work/automation-smm/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{auth}from\"../firebase\";import{Redirect}from\"react-router-dom\";import axios from\"axios\";var countForUseEffect=1;function Home(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),userStatus=_useState2[0],setUserStatus=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),redirect=_useState4[0],setRedirect=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),url=_useState6[0],setUrlAgain=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),comment=_useState8[0],setComment=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),successURL=_useState10[0],setSuccessURL=_useState10[1];var _useState11=useState(null),_useState12=_slicedToArray(_useState11,2),successComment=_useState12[0],setSuccessComment=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),loading=_useState14[0],setLoading=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),loadingComment=_useState16[0],setLoadingComment=_useState16[1];var _useState17=useState([]),_useState18=_slicedToArray(_useState17,2),teammembers=_useState18[0],setTeammembers=_useState18[1];var _useState19=useState([]),_useState20=_slicedToArray(_useState19,2),comments=_useState20[0],setComments=_useState20[1];var _useState21=useState(0),_useState22=_slicedToArray(_useState21,2),foll=_useState22[0],setFoll=_useState22[1];var _useState23=useState(false),_useState24=_slicedToArray(_useState23,2),loadingGo=_useState24[0],setLoadingGo=_useState24[1];var _useState25=useState(false),_useState26=_slicedToArray(_useState25,2),err=_useState26[0],setErr=_useState26[1];useEffect(function(){fetch();if(countForUseEffect)followizFetch();countForUseEffect=0;auth.onAuthStateChanged(function(user){if(user==null){setRedirect(true);setUserStatus(user);}else setUserStatus(user);});},[userStatus]);function fetch(){return _fetch.apply(this,arguments);}function _fetch(){_fetch=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"http://localhost:5000/api/teammembers\").then(function(res){setTeammembers(res.data);console.log(\"team\"+res.data);}).catch(function(err){return console.log(err);});case 2:_context.next=4;return axios.get(\"http://localhost:5000/api/comments\").then(function(res){setComments(res.data);}).catch(function(err){return console.log(err);});case 4:case\"end\":return _context.stop();}}},_callee);}));return _fetch.apply(this,arguments);}function followizFetch(){return _followizFetch.apply(this,arguments);}function _followizFetch(){_followizFetch=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.post('http://localhost:5000/api/scrape').then(function(res){return console.log(res);}).catch(function(err){return console.log(err);});case 2:case\"end\":return _context2.stop();}}},_callee2);}));return _followizFetch.apply(this,arguments);}var handleLogout=function handleLogout(e){auth.signOut();};var handleURL=function handleURL(e){e.preventDefault();setUrlAgain(e.target.value);};var commentHandling=function commentHandling(e){e.preventDefault();setComment(e.target.value);};var handleSubmit=function handleSubmit(e){e.preventDefault();setLoading(true);var obj={url:url};axios.post(\"http://localhost:5000/api/teammembers\",obj).then(function(res){setSuccessURL(true);setLoading(false);axios.get(\"http://localhost:5000/api/teammembers\").then(function(res){setTeammembers(res.data);console.log(\"team\"+res.data);}).catch(function(err){return console.log(err);});}).catch(function(err){setSuccessURL(false);setLoading(false);});};var commentHandler=function commentHandler(e){e.preventDefault();setLoadingComment(true);var obj={comment:comment};axios.post(\"http://localhost:5000/api/comments\",obj).then(function(res){setSuccessComment(true);setLoadingComment(false);axios.get(\"http://localhost:5000/api/comments\").then(function(res){setComments(res.data);}).catch(function(err){return console.log(err);});}).catch(function(err){setSuccessComment(false);setLoadingComment(false);});};var handleDeleteComment=function handleDeleteComment(item){axios.post(\"http://localhost:5000/api/comments/\".concat(item._id)).then(function(){axios.get(\"http://localhost:5000/api/comments\").then(function(res){setComments(res.data);}).catch(function(err){return console.log(err);});}).catch(function(err){return console.log(err);});};var handleDeleteMember=function handleDeleteMember(item){axios.post(\"http://localhost:5000/api/teammembers/\".concat(item._id)).then(function(){axios.get(\"http://localhost:5000/api/teammembers\").then(function(res){setTeammembers(res.data);}).catch(function(err){return console.log(err);});}).catch(function(err){return console.log(err);});};var StartingEngine=function StartingEngine(e){e.preventDefault();if(foll<100)setErr(true);else{var obj={followers:foll};axios.post(\"http://localhost:5000/api/start\",obj).then(function(res){}).catch(function(err){return console.log(err);});setLoadingGo(true);}};var handleFollowers=function handleFollowers(e){e.preventDefault();setErr(false);setFoll(e.target.value);};return React.createElement(React.Fragment,null,redirect?React.createElement(Redirect,{to:\"/signin\"}):React.createElement(React.Fragment,null,React.createElement(\"div\",{className:\"row w-100 h-100\"},React.createElement(\"div\",{className:\"col-lg-4 border border-left-0 border-bottom-0\"},React.createElement(\"div\",{class:\"panel panel-primary\",id:\"result_panel\"},React.createElement(\"div\",{class:\"panel-body\"},React.createElement(\"ul\",{class:\"list-group\"},teammembers.map(function(item){return React.createElement(\"li\",{class:\"list-group-item\"},item.url,React.createElement(\"button\",{onClick:function onClick(){return handleDeleteMember(item);},className:\"btn btn-danger btn-sm float-right\"},\"x\"));}))))),React.createElement(\"div\",{className:\"col-lg-4 border border-left-10 border-bottom-0\"},React.createElement(\"div\",{class:\"panel panel-primary\",id:\"result_panel\"},React.createElement(\"div\",{class:\"panel-body\"},React.createElement(\"ul\",{class:\"list-group\"},comments.map(function(item){return React.createElement(React.Fragment,null,React.createElement(\"li\",{class:\"list-group-item\"},item.comment,React.createElement(\"button\",{onClick:function onClick(){return handleDeleteComment(item);},className:\"btn btn-danger btn-sm float-right roundede\"},\"x\")));}))))),React.createElement(\"div\",{className:\"col-lg-4 border border-left-10 border-bottom-0 border-right-0\"},React.createElement(\"div\",{className:\"col col-lg-12 border m-1 p-4\"},React.createElement(\"form\",{onSubmit:handleSubmit},React.createElement(\"div\",{class:\"form-group\"},React.createElement(\"label\",{for:\"exampleInputEmail1\"},\"Instagram handle\"),React.createElement(\"input\",{onChange:handleURL,type:\"text\",class:\"form-control\",id:\"url\",\"aria-describedby\":\"emailHelp\",placeholder:\"URL\"}),React.createElement(\"small\",{id:\"emailHelp\",class:\"form-text text-muted\"},\"Input the instagram user address here like(https://instagram.com/username)\",\" \")),React.createElement(\"button\",{type:\"submit\",class:\"btn btn-primary\",onClick:handleSubmit},loading?React.createElement(React.Fragment,null,\"Adding\"):React.createElement(React.Fragment,null,\"Add\")))),React.createElement(\"div\",{className:\"col col-lg-12 border m-1 p-4\"},React.createElement(\"form\",{onSubmit:commentHandler},React.createElement(\"div\",{class:\"form-group\"},React.createElement(\"label\",null,\"Add Comments \"),React.createElement(\"input\",{onChange:commentHandling,type:\"text\",class:\"form-control\",id:\"comment\",placeholder:\"Input comment\"}),React.createElement(\"small\",{id:\"emailHelp\",class:\"form-text text-muted\"},\"Input the comments which need to added\",\" \")),React.createElement(\"button\",{onClick:commentHandler,type:\"submit\",class:\"btn btn-primary\"},loadingComment?React.createElement(React.Fragment,null,\"Adding\"):React.createElement(React.Fragment,null,\"Add\")))),React.createElement(\"div\",{className:\"col col-lg-12 border m-1 p-4\"},React.createElement(\"form\",{onSubmit:StartingEngine},React.createElement(\"div\",{class:\"form-group\"},React.createElement(\"label\",null,\"Number of followers \"),React.createElement(\"input\",{onChange:handleFollowers,type:\"number\",class:\"form-control\",id:\"comment\",placeholder:\"Input Followers\"})),React.createElement(\"button\",{onClick:StartingEngine,className:\"btn btn-primary mt-3 col-lg-12 ml-2\"},loadingGo?React.createElement(React.Fragment,null,\"Started\"):React.createElement(React.Fragment,null,err?React.createElement(React.Fragment,null,\"Value must be greater than 100\"):React.createElement(React.Fragment,null,\"GO!\")))))))));}export default Home;","map":{"version":3,"sources":["/home/okay/work/automation-smm/src/Components/Home.js"],"names":["React","useEffect","useState","auth","Redirect","axios","countForUseEffect","Home","userStatus","setUserStatus","redirect","setRedirect","url","setUrlAgain","comment","setComment","successURL","setSuccessURL","successComment","setSuccessComment","loading","setLoading","loadingComment","setLoadingComment","teammembers","setTeammembers","comments","setComments","foll","setFoll","loadingGo","setLoadingGo","err","setErr","fetch","followizFetch","onAuthStateChanged","user","get","then","res","data","console","log","catch","post","handleLogout","e","signOut","handleURL","preventDefault","target","value","commentHandling","handleSubmit","obj","commentHandler","handleDeleteComment","item","_id","handleDeleteMember","StartingEngine","followers","handleFollowers","map"],"mappings":"gVAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,IAAT,KAAqB,aAArB,CACA,OAASC,QAAT,KAAyB,kBAAzB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAEA,GAAIC,CAAAA,iBAAiB,CAAG,CAAxB,CAEA,QAASC,CAAAA,IAAT,EAAgB,eACsBL,QAAQ,CAAC,IAAD,CAD9B,wCACPM,UADO,eACKC,aADL,8BAEkBP,QAAQ,CAAC,KAAD,CAF1B,yCAEPQ,QAFO,eAEGC,WAFH,8BAGaT,QAAQ,CAAC,EAAD,CAHrB,yCAGPU,GAHO,eAGFC,WAHE,8BAIgBX,QAAQ,CAAC,EAAD,CAJxB,yCAIPY,OAJO,eAIEC,UAJF,8BAKsBb,QAAQ,CAAC,IAAD,CAL9B,0CAKPc,UALO,gBAKKC,aALL,gCAM8Bf,QAAQ,CAAC,IAAD,CANtC,2CAMPgB,cANO,gBAMSC,iBANT,gCAOgBjB,QAAQ,CAAC,KAAD,CAPxB,2CAOPkB,OAPO,gBAOEC,UAPF,gCAQ8BnB,QAAQ,CAAC,KAAD,CARtC,2CAQPoB,cARO,gBAQSC,iBART,gCASwBrB,QAAQ,CAAC,EAAD,CAThC,2CASPsB,WATO,gBASMC,cATN,gCAUkBvB,QAAQ,CAAC,EAAD,CAV1B,2CAUPwB,QAVO,gBAUGC,WAVH,gCAWUzB,QAAQ,CAAC,CAAD,CAXlB,2CAWP0B,IAXO,gBAWDC,OAXC,gCAYoB3B,QAAQ,CAAC,KAAD,CAZ5B,2CAYP4B,SAZO,gBAYIC,YAZJ,gCAaQ7B,QAAQ,CAAC,KAAD,CAbhB,2CAaP8B,GAbO,gBAaFC,MAbE,gBAiBdhC,SAAS,CAAC,UAAM,CACdiC,KAAK,GACL,GAAG5B,iBAAH,CACE6B,aAAa,GACf7B,iBAAiB,CAAG,CAApB,CACAH,IAAI,CAACiC,kBAAL,CAAwB,SAAAC,IAAI,CAAI,CAC9B,GAAIA,IAAI,EAAI,IAAZ,CAAkB,CAChB1B,WAAW,CAAC,IAAD,CAAX,CACAF,aAAa,CAAC4B,IAAD,CAAb,CACD,CAHD,IAGO5B,CAAAA,aAAa,CAAC4B,IAAD,CAAb,CACR,CALD,EAMD,CAXQ,CAWN,CAAC7B,UAAD,CAXM,CAAT,CAjBc,QAgCC0B,CAAAA,KAhCD,yHAgCd,yJACQ7B,CAAAA,KAAK,CACRiC,GADG,CACC,uCADD,EAEHC,IAFG,CAEE,SAAAC,GAAG,CAAI,CACXf,cAAc,CAACe,GAAG,CAACC,IAAL,CAAd,CACAC,OAAO,CAACC,GAAR,CAAY,OAASH,GAAG,CAACC,IAAzB,EACD,CALG,EAMHG,KANG,CAMG,SAAAZ,GAAG,QAAIU,CAAAA,OAAO,CAACC,GAAR,CAAYX,GAAZ,CAAJ,EANN,CADR,8BASQ3B,CAAAA,KAAK,CACRiC,GADG,CACC,oCADD,EAEHC,IAFG,CAEE,SAAAC,GAAG,CAAI,CACXb,WAAW,CAACa,GAAG,CAACC,IAAL,CAAX,CACD,CAJG,EAKHG,KALG,CAKG,SAAAZ,GAAG,QAAIU,CAAAA,OAAO,CAACC,GAAR,CAAYX,GAAZ,CAAJ,EALN,CATR,uDAhCc,gDAiDCG,CAAAA,aAjDD,iJAiDd,+JACQ9B,CAAAA,KAAK,CAACwC,IAAN,CAAW,kCAAX,EACLN,IADK,CACA,SAAAC,GAAG,QAAIE,CAAAA,OAAO,CAACC,GAAR,CAAYH,GAAZ,CAAJ,EADH,EAELI,KAFK,CAEC,SAAAZ,GAAG,QAAIU,CAAAA,OAAO,CAACC,GAAR,CAAYX,GAAZ,CAAJ,EAFJ,CADR,yDAjDc,gDAuDd,GAAMc,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAAAC,CAAC,CAAI,CACxB5C,IAAI,CAAC6C,OAAL,GACD,CAFD,CAIA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAAAF,CAAC,CAAI,CACrBA,CAAC,CAACG,cAAF,GACArC,WAAW,CAACkC,CAAC,CAACI,MAAF,CAASC,KAAV,CAAX,CACD,CAHD,CAKA,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAAAN,CAAC,CAAI,CAC3BA,CAAC,CAACG,cAAF,GACAnC,UAAU,CAACgC,CAAC,CAACI,MAAF,CAASC,KAAV,CAAV,CACD,CAHD,CAKA,GAAME,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAAAP,CAAC,CAAI,CACxBA,CAAC,CAACG,cAAF,GACA7B,UAAU,CAAC,IAAD,CAAV,CACA,GAAMkC,CAAAA,GAAG,CAAG,CACV3C,GAAG,CAAEA,GADK,CAAZ,CAGAP,KAAK,CACFwC,IADH,CACQ,uCADR,CACiDU,GADjD,EAEGhB,IAFH,CAEQ,SAAAC,GAAG,CAAI,CACXvB,aAAa,CAAC,IAAD,CAAb,CACAI,UAAU,CAAC,KAAD,CAAV,CAEAhB,KAAK,CACFiC,GADH,CACO,uCADP,EAEGC,IAFH,CAEQ,SAAAC,GAAG,CAAI,CACXf,cAAc,CAACe,GAAG,CAACC,IAAL,CAAd,CACAC,OAAO,CAACC,GAAR,CAAY,OAASH,GAAG,CAACC,IAAzB,EACD,CALH,EAMGG,KANH,CAMS,SAAAZ,GAAG,QAAIU,CAAAA,OAAO,CAACC,GAAR,CAAYX,GAAZ,CAAJ,EANZ,EAOD,CAbH,EAcGY,KAdH,CAcS,SAAAZ,GAAG,CAAI,CACZf,aAAa,CAAC,KAAD,CAAb,CACAI,UAAU,CAAC,KAAD,CAAV,CACD,CAjBH,EAkBD,CAxBD,CA0BA,GAAMmC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAAAT,CAAC,CAAI,CAC1BA,CAAC,CAACG,cAAF,GACA3B,iBAAiB,CAAC,IAAD,CAAjB,CAEA,GAAMgC,CAAAA,GAAG,CAAG,CACVzC,OAAO,CAAEA,OADC,CAAZ,CAGAT,KAAK,CACFwC,IADH,CACQ,oCADR,CAC8CU,GAD9C,EAEGhB,IAFH,CAEQ,SAAAC,GAAG,CAAI,CACXrB,iBAAiB,CAAC,IAAD,CAAjB,CACAI,iBAAiB,CAAC,KAAD,CAAjB,CACAlB,KAAK,CACFiC,GADH,CACO,oCADP,EAEGC,IAFH,CAEQ,SAAAC,GAAG,CAAI,CACXb,WAAW,CAACa,GAAG,CAACC,IAAL,CAAX,CACD,CAJH,EAKGG,KALH,CAKS,SAAAZ,GAAG,QAAIU,CAAAA,OAAO,CAACC,GAAR,CAAYX,GAAZ,CAAJ,EALZ,EAMD,CAXH,EAYGY,KAZH,CAYS,SAAAZ,GAAG,CAAI,CACZb,iBAAiB,CAAC,KAAD,CAAjB,CACAI,iBAAiB,CAAC,KAAD,CAAjB,CACD,CAfH,EAgBD,CAvBD,CAyBA,GAAMkC,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,CAAAC,IAAI,CAAI,CAClCrD,KAAK,CACFwC,IADH,8CAC8Ca,IAAI,CAACC,GADnD,GAEGpB,IAFH,CAEQ,UAAM,CACVlC,KAAK,CACFiC,GADH,CACO,oCADP,EAEGC,IAFH,CAEQ,SAAAC,GAAG,CAAI,CACXb,WAAW,CAACa,GAAG,CAACC,IAAL,CAAX,CACD,CAJH,EAKGG,KALH,CAKS,SAAAZ,GAAG,QAAIU,CAAAA,OAAO,CAACC,GAAR,CAAYX,GAAZ,CAAJ,EALZ,EAMD,CATH,EAUGY,KAVH,CAUS,SAAAZ,GAAG,QAAIU,CAAAA,OAAO,CAACC,GAAR,CAAYX,GAAZ,CAAJ,EAVZ,EAWD,CAZD,CAcA,GAAM4B,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAAAF,IAAI,CAAI,CACjCrD,KAAK,CACFwC,IADH,iDACiDa,IAAI,CAACC,GADtD,GAEGpB,IAFH,CAEQ,UAAM,CACVlC,KAAK,CACFiC,GADH,CACO,uCADP,EAEGC,IAFH,CAEQ,SAAAC,GAAG,CAAI,CACXf,cAAc,CAACe,GAAG,CAACC,IAAL,CAAd,CACD,CAJH,EAKGG,KALH,CAKS,SAAAZ,GAAG,QAAIU,CAAAA,OAAO,CAACC,GAAR,CAAYX,GAAZ,CAAJ,EALZ,EAMD,CATH,EAUGY,KAVH,CAUS,SAAAZ,GAAG,QAAIU,CAAAA,OAAO,CAACC,GAAR,CAAYX,GAAZ,CAAJ,EAVZ,EAWD,CAZD,CAcA,GAAM6B,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAAAd,CAAC,CAAI,CAC1BA,CAAC,CAACG,cAAF,GACA,GAAItB,IAAI,CAAG,GAAX,CAAgBK,MAAM,CAAC,IAAD,CAAN,CAAhB,IACK,CACH,GAAMsB,CAAAA,GAAG,CAAG,CACVO,SAAS,CAAElC,IADD,CAAZ,CAGAvB,KAAK,CACFwC,IADH,CACQ,iCADR,CAC2CU,GAD3C,EAEGhB,IAFH,CAEQ,SAAAC,GAAG,CAAI,CAAE,CAFjB,EAGGI,KAHH,CAGS,SAAAZ,GAAG,QAAIU,CAAAA,OAAO,CAACC,GAAR,CAAYX,GAAZ,CAAJ,EAHZ,EAIAD,YAAY,CAAC,IAAD,CAAZ,CACD,CACF,CAbD,CAeA,GAAMgC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAAAhB,CAAC,CAAI,CAC3BA,CAAC,CAACG,cAAF,GACAjB,MAAM,CAAC,KAAD,CAAN,CACAJ,OAAO,CAACkB,CAAC,CAACI,MAAF,CAASC,KAAV,CAAP,CACD,CAJD,CAMA,MACE,yCACG1C,QAAQ,CACP,oBAAC,QAAD,EAAU,EAAE,CAAC,SAAb,EADO,CAGP,wCACE,2BAAK,SAAS,CAAC,iBAAf,EACE,2BAAK,SAAS,CAAC,+CAAf,EACE,2BAAK,KAAK,CAAC,qBAAX,CAAiC,EAAE,CAAC,cAApC,EACE,2BAAK,KAAK,CAAC,YAAX,EACE,0BAAI,KAAK,CAAC,YAAV,EACGc,WAAW,CAACwC,GAAZ,CAAgB,SAAAN,IAAI,CAAI,CACvB,MACE,2BAAI,KAAK,CAAC,iBAAV,EACGA,IAAI,CAAC9C,GADR,CAEE,8BACE,OAAO,CAAE,yBAAMgD,CAAAA,kBAAkB,CAACF,IAAD,CAAxB,EADX,CAEE,SAAS,CAAC,mCAFZ,MAFF,CADF,CAWD,CAZA,CADH,CADF,CADF,CADF,CADF,CAsBE,2BAAK,SAAS,CAAC,gDAAf,EACE,2BAAK,KAAK,CAAC,qBAAX,CAAiC,EAAE,CAAC,cAApC,EACE,2BAAK,KAAK,CAAC,YAAX,EACE,0BAAI,KAAK,CAAC,YAAV,EACGhC,QAAQ,CAACsC,GAAT,CAAa,SAAAN,IAAI,CAAI,CACpB,MACE,yCACE,0BAAI,KAAK,CAAC,iBAAV,EACGA,IAAI,CAAC5C,OADR,CAEE,8BACE,OAAO,CAAE,yBAAM2C,CAAAA,mBAAmB,CAACC,IAAD,CAAzB,EADX,CAEE,SAAS,CAAC,4CAFZ,MAFF,CADF,CADF,CAaD,CAdA,CADH,CADF,CADF,CADF,CAtBF,CA6CE,2BAAK,SAAS,CAAC,+DAAf,EACE,2BAAK,SAAS,CAAC,8BAAf,EACE,4BAAM,QAAQ,CAAEJ,YAAhB,EACE,2BAAK,KAAK,CAAC,YAAX,EACE,6BAAO,GAAG,CAAC,oBAAX,qBADF,CAEE,6BACE,QAAQ,CAAEL,SADZ,CAEE,IAAI,CAAC,MAFP,CAGE,KAAK,CAAC,cAHR,CAIE,EAAE,CAAC,KAJL,CAKE,mBAAiB,WALnB,CAME,WAAW,CAAC,KANd,EAFF,CAUE,6BAAO,EAAE,CAAC,WAAV,CAAsB,KAAK,CAAC,sBAA5B,+EAC6E,GAD7E,CAVF,CADF,CAgBE,8BACE,IAAI,CAAC,QADP,CAEE,KAAK,CAAC,iBAFR,CAGE,OAAO,CAAEK,YAHX,EAKGlC,OAAO,CAAG,iDAAH,CAAiB,8CAL3B,CAhBF,CADF,CADF,CA4BE,2BAAK,SAAS,CAAC,8BAAf,EACE,4BAAM,QAAQ,CAAEoC,cAAhB,EACE,2BAAK,KAAK,CAAC,YAAX,EACE,iDADF,CAEE,6BACE,QAAQ,CAAEH,eADZ,CAEE,IAAI,CAAC,MAFP,CAGE,KAAK,CAAC,cAHR,CAIE,EAAE,CAAC,SAJL,CAKE,WAAW,CAAC,eALd,EAFF,CASE,6BAAO,EAAE,CAAC,WAAV,CAAsB,KAAK,CAAC,sBAA5B,2CACyC,GADzC,CATF,CADF,CAeE,8BACE,OAAO,CAAEG,cADX,CAEE,IAAI,CAAC,QAFP,CAGE,KAAK,CAAC,iBAHR,EAKGlC,cAAc,CAAG,iDAAH,CAAiB,8CALlC,CAfF,CADF,CA5BF,CAkEE,2BAAK,SAAS,CAAC,8BAAf,EACE,4BAAM,QAAQ,CAAEuC,cAAhB,EACE,2BAAK,KAAK,CAAC,YAAX,EACE,wDADF,CAEE,6BACE,QAAQ,CAAEE,eADZ,CAEE,IAAI,CAAC,QAFP,CAGE,KAAK,CAAC,cAHR,CAIE,EAAE,CAAC,SAJL,CAKE,WAAW,CAAC,iBALd,EAFF,CADF,CAYE,8BACE,OAAO,CAAEF,cADX,CAEE,SAAS,CAAC,qCAFZ,EAIG/B,SAAS,CACR,kDADQ,CAGR,wCACGE,GAAG,CAAG,yEAAH,CAAyC,8CAD/C,CAPJ,CAZF,CADF,CAlEF,CA7CF,CADF,CAJJ,CADF,CAwKD,CAED,cAAezB,CAAAA,IAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { auth } from \"../firebase\";\nimport { Redirect } from \"react-router-dom\";\nimport axios from \"axios\";\n\nlet countForUseEffect = 1;\n\nfunction Home() {\n  const [userStatus, setUserStatus] = useState(null);\n  const [redirect, setRedirect] = useState(false);\n  const [url, setUrlAgain] = useState(\"\");\n  const [comment, setComment] = useState(\"\");\n  const [successURL, setSuccessURL] = useState(null);\n  const [successComment, setSuccessComment] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [loadingComment, setLoadingComment] = useState(false);\n  const [teammembers, setTeammembers] = useState([]);\n  const [comments, setComments] = useState([]);\n  const [foll, setFoll] = useState(0);\n  const [loadingGo, setLoadingGo] = useState(false);\n  const [err, setErr] = useState(false);\n  \n \n\n  useEffect(() => {\n    fetch();\n    if(countForUseEffect)\n      followizFetch();\n    countForUseEffect = 0;\n    auth.onAuthStateChanged(user => {\n      if (user == null) {\n        setRedirect(true);\n        setUserStatus(user);\n      } else setUserStatus(user);\n    });\n  }, [userStatus]);\n\n\n\n  async function fetch() {\n    await axios\n      .get(\"http://localhost:5000/api/teammembers\")\n      .then(res => {\n        setTeammembers(res.data);\n        console.log(\"team\" + res.data);\n      })\n      .catch(err => console.log(err));\n\n    await axios\n      .get(\"http://localhost:5000/api/comments\")\n      .then(res => {\n        setComments(res.data);\n      })\n      .catch(err => console.log(err));\n  }\n\n  async function followizFetch(){\n    await axios.post('http://localhost:5000/api/scrape')\n    .then(res => console.log(res))\n    .catch(err => console.log(err));\n  }\n\n  const handleLogout = e => {\n    auth.signOut();\n  };\n\n  const handleURL = e => {\n    e.preventDefault();\n    setUrlAgain(e.target.value);\n  };\n\n  const commentHandling = e => {\n    e.preventDefault();\n    setComment(e.target.value);\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    setLoading(true);\n    const obj = {\n      url: url\n    };\n    axios\n      .post(\"http://localhost:5000/api/teammembers\", obj)\n      .then(res => {\n        setSuccessURL(true);\n        setLoading(false);\n\n        axios\n          .get(\"http://localhost:5000/api/teammembers\")\n          .then(res => {\n            setTeammembers(res.data);\n            console.log(\"team\" + res.data);\n          })\n          .catch(err => console.log(err));\n      })\n      .catch(err => {\n        setSuccessURL(false);\n        setLoading(false);\n      });\n  };\n\n  const commentHandler = e => {\n    e.preventDefault();\n    setLoadingComment(true);\n\n    const obj = {\n      comment: comment\n    };\n    axios\n      .post(\"http://localhost:5000/api/comments\", obj)\n      .then(res => {\n        setSuccessComment(true);\n        setLoadingComment(false);\n        axios\n          .get(\"http://localhost:5000/api/comments\")\n          .then(res => {\n            setComments(res.data);\n          })\n          .catch(err => console.log(err));\n      })\n      .catch(err => {\n        setSuccessComment(false);\n        setLoadingComment(false);\n      });\n  };\n\n  const handleDeleteComment = item => {\n    axios\n      .post(`http://localhost:5000/api/comments/${item._id}`)\n      .then(() => {\n        axios\n          .get(\"http://localhost:5000/api/comments\")\n          .then(res => {\n            setComments(res.data);\n          })\n          .catch(err => console.log(err));\n      })\n      .catch(err => console.log(err));\n  };\n\n  const handleDeleteMember = item => {\n    axios\n      .post(`http://localhost:5000/api/teammembers/${item._id}`)\n      .then(() => {\n        axios\n          .get(\"http://localhost:5000/api/teammembers\")\n          .then(res => {\n            setTeammembers(res.data);\n          })\n          .catch(err => console.log(err));\n      })\n      .catch(err => console.log(err));\n  };\n\n  const StartingEngine = e => {\n    e.preventDefault();\n    if (foll < 100) setErr(true);\n    else {\n      const obj = {\n        followers: foll\n      };\n      axios\n        .post(\"http://localhost:5000/api/start\", obj)\n        .then(res => {})\n        .catch(err => console.log(err));\n      setLoadingGo(true);\n    }\n  };\n\n  const handleFollowers = e => {\n    e.preventDefault();\n    setErr(false);\n    setFoll(e.target.value);\n  };\n\n  return (\n    <>\n      {redirect ? (\n        <Redirect to=\"/signin\" />\n      ) : (\n        <>\n          <div className=\"row w-100 h-100\">\n            <div className=\"col-lg-4 border border-left-0 border-bottom-0\">\n              <div class=\"panel panel-primary\" id=\"result_panel\">\n                <div class=\"panel-body\">\n                  <ul class=\"list-group\">\n                    {teammembers.map(item => {\n                      return (\n                        <li class=\"list-group-item\">\n                          {item.url}\n                          <button\n                            onClick={() => handleDeleteMember(item)}\n                            className=\"btn btn-danger btn-sm float-right\"\n                          >\n                            x\n                          </button>\n                        </li>\n                      );\n                    })}\n                  </ul>\n                </div>\n              </div>\n            </div>\n            <div className=\"col-lg-4 border border-left-10 border-bottom-0\">\n              <div class=\"panel panel-primary\" id=\"result_panel\">\n                <div class=\"panel-body\">\n                  <ul class=\"list-group\">\n                    {comments.map(item => {\n                      return (\n                        <>\n                          <li class=\"list-group-item\">\n                            {item.comment}\n                            <button\n                              onClick={() => handleDeleteComment(item)}\n                              className=\"btn btn-danger btn-sm float-right roundede\"\n                            >\n                              x\n                            </button>\n                          </li>\n                        </>\n                      );\n                    })}\n                  </ul>\n                </div>\n              </div>\n            </div>\n            <div className=\"col-lg-4 border border-left-10 border-bottom-0 border-right-0\">\n              <div className=\"col col-lg-12 border m-1 p-4\">\n                <form onSubmit={handleSubmit}>\n                  <div class=\"form-group\">\n                    <label for=\"exampleInputEmail1\">Instagram handle</label>\n                    <input\n                      onChange={handleURL}\n                      type=\"text\"\n                      class=\"form-control\"\n                      id=\"url\"\n                      aria-describedby=\"emailHelp\"\n                      placeholder=\"URL\"\n                    />\n                    <small id=\"emailHelp\" class=\"form-text text-muted\">\n                      Input the instagram user address here like(https://instagram.com/username){\" \"}\n                    </small>\n                  </div>\n\n                  <button\n                    type=\"submit\"\n                    class=\"btn btn-primary\"\n                    onClick={handleSubmit}\n                  >\n                    {loading ? <>Adding</> : <>Add</>}\n                  </button>\n                </form>\n              </div>\n\n              <div className=\"col col-lg-12 border m-1 p-4\">\n                <form onSubmit={commentHandler}>\n                  <div class=\"form-group\">\n                    <label>Add Comments </label>\n                    <input\n                      onChange={commentHandling}\n                      type=\"text\"\n                      class=\"form-control\"\n                      id=\"comment\"\n                      placeholder=\"Input comment\"\n                    />\n                    <small id=\"emailHelp\" class=\"form-text text-muted\">\n                      Input the comments which need to added{\" \"}\n                    </small>\n                  </div>\n\n                  <button\n                    onClick={commentHandler}\n                    type=\"submit\"\n                    class=\"btn btn-primary\"\n                  >\n                    {loadingComment ? <>Adding</> : <>Add</>}\n                  </button>\n                  {/* {successComment === true ? (\n                    <span className=\"alert alert-success ml-3\">Done </span>\n                  ) : (\n                    <>\n                      {successComment === false ? (\n                        <span className=\"alert alert-danger ml-3\">\n                          Error :(\n                        </span>\n                      ) : (\n                        <></>\n                      )}\n                    </>\n                  )} */}\n                </form>\n              </div>\n              <div className=\"col col-lg-12 border m-1 p-4\">\n                <form onSubmit={StartingEngine}>\n                  <div class=\"form-group\">\n                    <label>Number of followers </label>\n                    <input\n                      onChange={handleFollowers}\n                      type=\"number\"\n                      class=\"form-control\"\n                      id=\"comment\"\n                      placeholder=\"Input Followers\"\n                    />\n                  </div>\n\n                  <button\n                    onClick={StartingEngine}\n                    className=\"btn btn-primary mt-3 col-lg-12 ml-2\"\n                  >\n                    {loadingGo ? (\n                      <>Started</>\n                    ) : (\n                      <>\n                        {err ? <>Value must be greater than 100</> : <>GO!</>}\n                      </>\n                    )}\n                  </button>\n                </form>\n              </div>\n            </div>\n            {/* Instagram -  Followers [Not Guaranteed/No Refill] */}\n\n          </div>\n          {/* <button onClick={handleLogout} className=\"btn btn-info mt-3\">logout</button> */}\n          {/* <div className=\"container\">\n            <div className=\"row\">\n              <div className=\"col col-lg-4\">\n                <h3>Followiz</h3>\n                             \n              </div>\n              <div className=\"col col-lg-4\">\n              <h3>Payto</h3>\n                </div>\n                <div className=\"col col-lg-4\">\n              <h3>SMM</h3>\n                \n                </div>\n            </div>\n          </div> */}\n        </>\n      )}\n    </>\n  );\n}\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}